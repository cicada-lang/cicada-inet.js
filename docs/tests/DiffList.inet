defnode sole -- return! end

defnode null -- return! end

defnode cons
  head
  tail
  -------
  return!
end

defnode diff
  left
  right
  ------
  return!
end

defnode diff_append
  left!
  right
  ------
  return
end

defrule diff diff_append
  (diff)-left (diff_append)-right diff_open
  (diff)-right diff
  return-(diff_append)
end

defnode diff_open
  diff_list!
  list
  ------
  return
end

defrule diff diff_open
  (diff_open)-list (diff)-left connect
  (diff)-right
  return-(diff_open)
end

defnet one_two_soles
  wire sole cons diff
  wire sole cons sole cons diff
  diff_append
end

defnet two_two_soles
  wire sole cons sole cons diff
  wire sole cons sole cons diff
  diff_append
end
