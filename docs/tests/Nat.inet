defnode zero -- value! end

defnode add1 prev -- value! end

defnode add target! addend -- return end

defrule zero add
  (add)-addend return-(add)
end

defrule add1 add
  (add1)-prev (add)-addend add add1
  return-(add)
end

show zero zero add end
run zero zero add end

defnet two
  zero add1
  zero add1
  add
end

defnet four
  two two add
end

show two end
run two end

show four end
run four end
