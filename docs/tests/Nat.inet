type Nat 0 end

node zero -- value!: Nat end
node add1 prev: Nat -- value!: Nat end

node add target!: Nat; addend: Nat -- return: Nat end

rule zero add
  (add)-addend
  return-(add)
end

rule add1 add
  (add)-addend (add1)-prev add add1
  return-(add)
end

show zero zero add end
run zero zero add end

define one zero add1 end
define two one one add end
define four two two add end

show two end
run two end

show four end
run four end

show zero one add end
run zero one add end
