deftype Nat 0 end

defnode zero -- value!: Nat end
defnode add1 prev: Nat -- value!: Nat end

defnode add target!: Nat addend: Nat -- return: Nat end

defrule zero add
  (add)-addend
  return-(add)
end

defrule add1 add
  (add)-addend (add1)-prev add add1
  return-(add)
end

show zero zero add end
run zero zero add end

defn one zero add1 end
defn two one one add end
defn four two two add end

show two end
run two end

show four end
run four end

show zero one add end
run zero one add end
